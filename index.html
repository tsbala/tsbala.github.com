 <html>
 <head>
	FB Login sample
 </head>
 <body>
    <button id="fb-auth">Login</button>
	<p id="UserName"></p>
	<p id="UserId"></p>
	<div id="fb-root"></div>
	<script>
	  var appId = "155271981196630";
	  window.fbAsyncInit = function() {
		FB.init({
		  appId  : appId,
		  status : true, // check login status
		  cookie : true, // enable cookies to allow the server to access the session
		  xfbml  : true  // parse XFBML
		});

		FB.getLoginStatus(updateButton);
		FB.Event.subscribe('auth.statusChange', updateButton);		
	  };

	  (function() {
		var e = document.createElement('script');
		e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
		e.async = true;
		document.getElementById('fb-root').appendChild(e);
	  }());
	  
		function updateButton(response) {
		  console.info('Updating Button', response);
		  var button = document.getElementById('fb-auth');

		  if (response.session) {
			button.innerHTML = 'Logout';
			button.onclick = function() {
			  FB.logout(function(response) {
				console.info('FB.logout callback', response);
				UserName.innerText = response.session.user.name;
				UserId.innerText = response.session.user.id;
			  });
			};
		  } else {
			button.innerHTML = 'Login';
			button.onclick = function() {
			  FB.login(function(response) {
				console.info('FB.login callback', response);
			
				if (response.status == 'connected') {
					FB.getLoginStatus(function(response) {console.info('FB.getLoginStatus callback', response);
						if (response.session) {
							console.info('User is logged in');
							UserName.innerText = response.session.user.name;
							UserId.innerText = response.session.user.id;
						} else {							console.info('User is logged out');
						}
					}, true);
				} else { 
					console.info('User is logged out');
					UserName.innerText = "";
					UserId.innerText = "";
				}
			  });
			};
		  }
		}	  
	</script>	
</body>
	<!--
    <head>
        <title>Client Flow Example</title>
    </head>
    <body>
        <script>

			var appId = "155271981196630";

			if(window.location.hash.length == 0)
			{
				url = "https://www.facebook.com/dialog/oauth?client_id=" + 
						 appId  + "&redirect_uri=" + window.location +
						 "&response_type=token";
				window.location = url;

			} else {
				accessToken = window.location.hash.substring(1);
				graphUrl = "https://graph.facebook.com/me?" + accessToken +
							"&callback=displayUser"

				//use JSON-P to call the graph
				var script = document.createElement("script");
				script.src = graphUrl;
				document.body.appendChild(script);  
			}

			function displayUser(user) {
				userName.innerText = user.name;
				userId.innerText = user.id;
			}
        </script>
        <p id="userName"></p>
		<p id="userId"></p>
    </body>
	-->
</html>